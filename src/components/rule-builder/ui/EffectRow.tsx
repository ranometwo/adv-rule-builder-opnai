import Button from '@/components/ui/button'; import { Label } from '@/components/ui/label'; import { Input } from '@/components/ui/input'; import { Select,SelectContent,SelectItem,SelectTrigger,SelectValue } from '@/components/ui/select'; import { Trash2 } from 'lucide-react'; import { EFFECT_TEMPLATES } from '../data/constants'; export default function EffectRow({eff,onChange,onDelete}:{eff:any;onChange:(e:any)=>void;onDelete:()=>void}){return(<div className='flex items-start gap-3 border border-slate-800 rounded-md p-2'><span className='text-xl leading-none'>{EFFECT_TEMPLATES.find(t=>t.type===eff.type)?.icon||'🎁'}</span><div className='grid grid-cols-2 gap-2 flex-1'><div className='col-span-2'><Label>Name</Label><Input value={eff.name||''} onChange={e=>onChange({...eff,name:e.target.value})}/></div><div><Label>Type</Label><Select value={eff.type} onValueChange={v=>onChange({...eff,type:v})}><SelectTrigger><SelectValue/></SelectTrigger><SelectContent>{EFFECT_TEMPLATES.map(t=>(<SelectItem key={t.type} value={t.type as any}>{t.label}</SelectItem>))}</SelectContent></Select></div>{eff.type==='award_points'&&(<div className='col-span-2'><Label>Formula</Label><Input placeholder='e.g., purchase_amount * 3 + 500' value={eff.formula||''} onChange={e=>onChange({...eff,formula:e.target.value})}/></div>)}{eff.type==='create_coupon'&&(<><div><Label>Value</Label><Input placeholder='25% off or 250 INR' value={eff.value||''} onChange={e=>onChange({...eff,value:e.target.value})}/></div><div><Label>Code Type</Label><Select value={eff.codeType||''} onValueChange={v=>onChange({...eff,codeType:v})}><SelectTrigger><SelectValue placeholder='Select'/></SelectTrigger><SelectContent><SelectItem value='single_use'>Single-use</SelectItem><SelectItem value='multi_use'>Multi-use</SelectItem><SelectItem value='public'>Public</SelectItem></SelectContent></Select></div><div><Label>Stackability</Label><Select value={eff.stackability||'exclusive'} onValueChange={v=>onChange({...eff,stackability:v})}><SelectTrigger><SelectValue/></SelectTrigger><SelectContent><SelectItem value='exclusive'>Exclusive</SelectItem><SelectItem value='stackable'>Stackable</SelectItem></SelectContent></Select></div><div><Label>Channels</Label><Input placeholder='Comma separated (POS, web, app)' value={eff.channels||''} onChange={e=>onChange({...eff,channels:e.target.value})}/></div><div><Label>Validity (days)</Label><Input type='number' value={eff.validityDays||0} onChange={e=>onChange({...eff,validityDays:Number(e.target.value)})}/></div></>)}</div><Button variant='ghost' size='icon' onClick={onDelete}><Trash2 className='h-4 w-4'/></Button></div>)}