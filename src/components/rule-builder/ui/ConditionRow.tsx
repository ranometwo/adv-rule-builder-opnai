import Button from '@/components/ui/button'; import { Badge } from '@/components/ui/badge'; import { Trash2,GripVertical } from 'lucide-react'; import FieldSelect from './FieldSelect'; import OperatorSelect from './OperatorSelect'; import ValueEditor from './ValueEditor'; import { fieldMeta } from '../data/catalog'; export default function ConditionRow({node,onChange,onDelete}:{node:any;onChange:(n:any)=>void;onDelete:()=>void}){const meta=fieldMeta(node.field); return(<div className='flex items-center gap-2 rounded-md border border-slate-800 p-2 bg-slate-950/60'><GripVertical className='h-4 w-4 text-slate-500'/><FieldSelect value={node.field} onChange={v=>onChange({...node,field:v})}/><OperatorSelect field={node.field} value={node.operator} onChange={v=>onChange({...node,operator:v})}/><ValueEditor field={node.field} operator={node.operator} value={node.value} onChange={v=>onChange({...node,value:v})}/><Badge variant='secondary'>{meta?.label||node.field}</Badge><Button variant='ghost' size='icon' onClick={onDelete}><Trash2 className='h-4 w-4'/></Button></div>)}